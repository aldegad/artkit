"use client";

import { useMemo } from "react";
import { EditorOverlaysProps } from "../components/EditorOverlays";

type UseEditorOverlayModelOptions = EditorOverlaysProps;

export function useEditorOverlayModel(
  options: UseEditorOverlayModelOptions
): EditorOverlaysProps {
  const {
    showExportModal,
    setShowExportModal,
    handleExportFromModal,
    exportMode,
    projectName,
    exportTranslations,
    showBgRemovalConfirm,
    setShowBgRemovalConfirm,
    handleRemoveBackground,
    hasSelection,
    bgRemovalQuality,
    setBgRemovalQuality,
    bgRemovalModel,
    setBgRemovalModel,
    isRemovingBackground,
    bgRemovalProgress,
    bgRemovalStatus,
    backgroundRemovalTranslations,
    showResampleModal,
    closeResampleModal,
    applyResample,
    resampleWidth,
    resampleHeight,
    setResampleWidth,
    setResampleHeight,
    resampleKeepAspect,
    toggleResampleKeepAspect,
    isResampling,
    resampleTranslations,
    showTransformDiscardConfirm,
    handleTransformDiscardCancel,
    handleTransformDiscardConfirm,
    handleTransformApplyAndSwitch,
    transformDiscardTranslations,
    showStatusBar,
    canvasSize,
    rotation,
    zoom,
    cropArea,
    selection,
    fileInputRef,
    handleFileSelect,
    isProjectListOpen,
    setIsProjectListOpen,
    savedProjects,
    currentProjectId,
    handleLoadProject,
    handleDeleteProject,
    storageInfo,
    isLoading,
    projectListTranslations,
    showSyncDialog,
    localProjectCount,
    cloudProjectCount,
    handleKeepCloud,
    handleKeepLocal,
    handleCancelSync,
  } = options;

  return useMemo(
    () => ({
      showExportModal,
      setShowExportModal,
      handleExportFromModal,
      exportMode,
      projectName,
      exportTranslations,
      showBgRemovalConfirm,
      setShowBgRemovalConfirm,
      handleRemoveBackground,
      hasSelection,
      bgRemovalQuality,
      setBgRemovalQuality,
      bgRemovalModel,
      setBgRemovalModel,
      isRemovingBackground,
      bgRemovalProgress,
      bgRemovalStatus,
      backgroundRemovalTranslations,
      showResampleModal,
      closeResampleModal,
      applyResample,
      resampleWidth,
      resampleHeight,
      setResampleWidth,
      setResampleHeight,
      resampleKeepAspect,
      toggleResampleKeepAspect,
      isResampling,
      resampleTranslations,
      showTransformDiscardConfirm,
      handleTransformDiscardCancel,
      handleTransformDiscardConfirm,
      handleTransformApplyAndSwitch,
      transformDiscardTranslations,
      showStatusBar,
      canvasSize,
      rotation,
      zoom,
      cropArea,
      selection,
      fileInputRef,
      handleFileSelect,
      isProjectListOpen,
      setIsProjectListOpen,
      savedProjects,
      currentProjectId,
      handleLoadProject,
      handleDeleteProject,
      storageInfo,
      isLoading,
      projectListTranslations,
      showSyncDialog,
      localProjectCount,
      cloudProjectCount,
      handleKeepCloud,
      handleKeepLocal,
      handleCancelSync,
    }),
    [
      showExportModal,
      setShowExportModal,
      handleExportFromModal,
      exportMode,
      projectName,
      exportTranslations,
      showBgRemovalConfirm,
      setShowBgRemovalConfirm,
      handleRemoveBackground,
      hasSelection,
      bgRemovalQuality,
      setBgRemovalQuality,
      bgRemovalModel,
      setBgRemovalModel,
      isRemovingBackground,
      bgRemovalProgress,
      bgRemovalStatus,
      backgroundRemovalTranslations,
      showResampleModal,
      closeResampleModal,
      applyResample,
      resampleWidth,
      resampleHeight,
      setResampleWidth,
      setResampleHeight,
      resampleKeepAspect,
      toggleResampleKeepAspect,
      isResampling,
      resampleTranslations,
      showTransformDiscardConfirm,
      handleTransformDiscardCancel,
      handleTransformDiscardConfirm,
      handleTransformApplyAndSwitch,
      transformDiscardTranslations,
      showStatusBar,
      canvasSize,
      rotation,
      zoom,
      cropArea,
      selection,
      fileInputRef,
      handleFileSelect,
      isProjectListOpen,
      setIsProjectListOpen,
      savedProjects,
      currentProjectId,
      handleLoadProject,
      handleDeleteProject,
      storageInfo,
      isLoading,
      projectListTranslations,
      showSyncDialog,
      localProjectCount,
      cloudProjectCount,
      handleKeepCloud,
      handleKeepLocal,
      handleCancelSync,
    ]
  );
}
